{% extends "quiz_base.html" %}

{% block quiz_title %}SES 598: Enrollment Quiz - Part 1{% endblock %}

{% block mcq_section_title %}
<div class="quiz-intro mb-4">
    <p class="text-muted" style="font-size: 0.95rem;">
        Test your foundation in robotics and AI concepts by completing this quiz. It helps assess if this course aligns with your interests. 
        A timestamped certificate of successful completion will be used to prioritize students if the course reaches capacity.
    </p>
    <hr class="my-4">
    <h5>Part 1: Robotics and AI Fundamentals</h5>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .question {
        margin-bottom: 2rem;
        padding: 1rem;
        border: 1px solid #dee2e6;
        border-radius: 0.25rem;
        background-color: #fff;
    }
    .options {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        margin-top: 1rem;
    }
    .option {
        display: block;
        padding: 0.5rem;
        border: 1px solid #dee2e6;
        border-radius: 0.25rem;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    .option:hover {
        background-color: #f8f9fa;
    }
    .progress {
        height: 1.5rem;
        background-color: #e9ecef;
        border-radius: 0.25rem;
    }
    .progress-bar {
        transition: width 0.6s ease;
    }
    .user-info {
        margin-bottom: 2rem;
        padding: 1rem;
        background-color: #f8f9fa;
        border-radius: 0.25rem;
    }
    .form-group {
        margin-bottom: 1rem;
    }
    .form-control {
        display: block;
        width: 100%;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        color: #495057;
        background-color: #fff;
        border: 1px solid #ced4da;
        border-radius: 0.25rem;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
</style>
{% endblock %}

{% block mcq_questions %}
    {% if show_results %}
        <div class="alert alert-info">
            <h4>Quiz Results</h4>
            <p>Email: {{ email }}</p>
            <div class="mb-3">
                <p class="mb-2">Score: {{ score|floatformat:1 }}%</p>
                <div class="progress mb-3">
                    <div class="progress-bar" role="progressbar" style="width: {{ score }}%" aria-valuenow="{{ score }}" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>

            {% if score >= 60 %}
                <div class="alert alert-success">
                    <h5>Congratulations! You've passed Part 1</h5>
                    <p>You can now proceed to Part 2 to test your understanding of advanced robotics concepts.</p>
                    <div class="mt-3">
                        <a href="{% url 'ses598_quiz_part2' %}" class="btn btn-primary">Continue to Part 2</a>
                    </div>
                </div>
            {% else %}
                <div class="alert alert-warning">
                    <h5>Quiz Results</h5>
                    <p>Your score indicates that some foundational concepts may need strengthening. However, if you believe you have the necessary background and experience in robotics and AI, please:</p>
                    <ul>
                        <li>Contact the instructor at jdas5@asu.edu to discuss your background and experience, or</li>
                        <li>Attend the first day of class (if the course is not at capacity) to evaluate if the course aligns with your preparation</li>
                    </ul>
                    <p class="text-muted mt-2">The instructor can help assess if your practical experience or other coursework provides equivalent preparation for the advanced topics covered in this course.</p>
                </div>
            {% endif %}

            <div id="answer-explanations" class="answer-explanations mt-4">
                <h4>Detailed Analysis:</h4>
                <p class="text-muted mb-3">Review your understanding of these fundamental concepts:</p>
                <div class="explanation">
                    <h5>1. SLAM Purpose</h5>
                    <p>Correct Answer: To build a map of an unknown environment while tracking the robot's position</p>
                    <p>Rationale:</p>
                    <ul>
                        <li>Core SLAM Functionality:
                            <ul>
                                <li>Simultaneous mapping and localization</li>
                                <li>Real-time environment understanding</li>
                                <li>Position tracking relative to map</li>
                            </ul>
                        </li>
                        <li>Common Misconceptions:
                            <ul>
                                <li>Control algorithms are separate from SLAM</li>
                                <li>Object detection is a complementary but different task</li>
                                <li>Obstacle avoidance uses SLAM data but isn't its primary purpose</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="explanation">
                    <h5>2. 3D Mapping Sensors</h5>
                    <p>Correct Answer: LiDAR</p>
                    <p>Rationale:</p>
                    <ul>
                        <li>LiDAR Advantages:
                            <ul>
                                <li>Direct 3D point cloud measurements</li>
                                <li>High accuracy and precision</li>
                                <li>Large field of view and range</li>
                            </ul>
                        </li>
                        <li>Other Sensors' Limitations:
                            <ul>
                                <li>Ultrasonic: Limited range and resolution</li>
                                <li>Infrared: Affected by ambient light</li>
                                <li>GPS: Position only, no mapping capability</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="explanation">
                    <h5>3. Occupancy Grid Mapping</h5>
                    <p>Correct Answer: The cell is likely to contain an obstacle</p>
                    <p>Rationale:</p>
                    <ul>
                        <li>Probability Interpretation:
                            <ul>
                                <li>High probability (>0.5) indicates obstacle presence</li>
                                <li>Low probability (<0.5) indicates free space</li>
                                <li>0.5 typically represents unknown space</li>
                            </ul>
                        </li>
                        <li>Map Building Process:
                            <ul>
                                <li>Updates based on sensor measurements</li>
                                <li>Accounts for sensor uncertainty</li>
                                <li>Integrates multiple observations over time</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="explanation">
                    <h5>4. GPS Navigation Challenges</h5>
                    <p>Correct Answer: Lack of precision in densely populated environments</p>
                    <p>Rationale:</p>
                    <ul>
                        <li>Urban Environment Issues:
                            <ul>
                                <li>Signal multipath effects</li>
                                <li>Satellite visibility limitations</li>
                                <li>Building interference</li>
                            </ul>
                        </li>
                        <li>Impact on Navigation:
                            <ul>
                                <li>Position accuracy degradation</li>
                                <li>Unreliable height measurements</li>
                                <li>Need for complementary sensors</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="explanation">
                    <h5>5. Path Planning Algorithms</h5>
                    <p>Correct Answer: Dijkstra's Algorithm</p>
                    <p>Rationale:</p>
                    <ul>
                        <li>Algorithm Characteristics:
                            <ul>
                                <li>Guarantees optimal path</li>
                                <li>Handles weighted edges (cost considerations)</li>
                                <li>Efficient for grid-based maps</li>
                            </ul>
                        </li>
                        <li>Comparison with Alternatives:
                            <ul>
                                <li>BFS: Unweighted paths only</li>
                                <li>Gradient Descent: Local optimization</li>
                                <li>Genetic Algorithm: Global but non-deterministic</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    {% else %}
        <form method="post" id="quizForm">
            {% csrf_token %}
            <div class="user-info">
                <h4>Student Information</h4>
                <div class="form-group">
                    <label for="email">Enter your email:</label>
                    <input type="email" class="form-control" id="email" name="email" 
                           placeholder="username@asu.edu" required>
                </div>
            </div>

            <div class="question">
                <h3>1. What is the primary purpose of Simultaneous Localization and Mapping (SLAM) in robotics?</h3>
                <div class="options">
                    <label class="option"><input type="radio" name="q1" value="1" required> To create a robot's control algorithm</label>
                    <label class="option"><input type="radio" name="q1" value="2"> To detect objects in the robot's environment</label>
                    <label class="option"><input type="radio" name="q1" value="3"> To build a map of an unknown environment while tracking the robot's position</label>
                    <label class="option"><input type="radio" name="q1" value="4"> To program robot behaviors for obstacle avoidance</label>
                    <label class="option"><input type="radio" name="q1" value="0"> I am not sure</label>
                </div>
            </div>

            <div class="question">
                <h3>2. Which sensor is most commonly used for 3D mapping in robotic systems?</h3>
                <div class="options">
                    <label class="option"><input type="radio" name="q2" value="1" required> Ultrasonic sensor</label>
                    <label class="option"><input type="radio" name="q2" value="2"> LiDAR</label>
                    <label class="option"><input type="radio" name="q2" value="3"> Infrared sensor</label>
                    <label class="option"><input type="radio" name="q2" value="4"> GPS</label>
                    <label class="option"><input type="radio" name="q2" value="0"> I am not sure</label>
                </div>
            </div>

            <div class="question">
                <h3>3. In occupancy grid mapping, what does a high probability value in a grid cell represent?</h3>
                <div class="options">
                    <label class="option"><input type="radio" name="q3" value="1" required> The cell is likely to contain an obstacle</label>
                    <label class="option"><input type="radio" name="q3" value="2"> The cell is unexplored</label>
                    <label class="option"><input type="radio" name="q3" value="3"> The cell is part of free space</label>
                    <label class="option"><input type="radio" name="q3" value="4"> The cell is a probable goal location</label>
                    <label class="option"><input type="radio" name="q3" value="0"> I am not sure</label>
                </div>
            </div>

            <div class="question">
                <h3>4. What is a common challenge in using GPS for outdoor robotic navigation?</h3>
                <div class="options">
                    <label class="option"><input type="radio" name="q4" value="1" required> Lack of precision in densely populated environments</label>
                    <label class="option"><input type="radio" name="q4" value="2"> High energy consumption</label>
                    <label class="option"><input type="radio" name="q4" value="3"> Difficulty in avoiding static obstacles</label>
                    <label class="option"><input type="radio" name="q4" value="4"> Difficulty in path planning</label>
                    <label class="option"><input type="radio" name="q4" value="0"> I am not sure</label>
                </div>
            </div>

            <div class="question">
                <h3>5. Which algorithm is typically used for path planning in robotic mapping?</h3>
                <div class="options">
                    <label class="option"><input type="radio" name="q5" value="1" required> Breadth-First Search (BFS)</label>
                    <label class="option"><input type="radio" name="q5" value="2"> Dijkstra's Algorithm</label>
                    <label class="option"><input type="radio" name="q5" value="3"> Gradient Descent</label>
                    <label class="option"><input type="radio" name="q5" value="4"> Genetic Algorithm</label>
                    <label class="option"><input type="radio" name="q5" value="0"> I am not sure</label>
                </div>
            </div>

            <div class="mt-4">
                <button type="submit" class="btn btn-primary" id="submitBtn">Submit Quiz</button>
            </div>
        </form>
    {% endif %}
{% endblock %}

{% block interactive_section %}{% endblock %} 